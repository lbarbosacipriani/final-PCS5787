\documentclass[conference]{IEEEtran}
\IEEEoverridecommandlockouts
% The preceding line is only needed to identify funding in the first footnote. If that is unneeded, please comment it out.
\usepackage{cite}
\usepackage{amsmath,amssymb,amsfonts}
\usepackage{algorithmic}
\usepackage{graphicx}
\usepackage{textcomp}
\usepackage{xcolor}
\usepackage{rotating}

\usepackage[brazil]{babel}     % Traduz elementos automáticos para o português
\usepackage{hyperref}

\def\BibTeX{{\rm B\kern-.05em{\sc i\kern-.025em b}\kern-.08em
    T\kern-.1667em\lower.7ex\hbox{E}\kern-.125emX}}
\begin{document}

\title{Análise de desempenho de modelos de Aprendizado de máquina na base de dados Heart Disease*\\
{\footnotesize \textsuperscript{*}Note: Sub-titles are not captured in Xplore and
should not be used}
}

\author{\IEEEauthorblockN{Cipriani Leonardo}
\IEEEauthorblockA{\textit{Universidade de Sao Paulo} \\
\textit{Escola Politécnica}\\
São Paulo, Brasil \\
email address or ORCID}
\and
\and
\IEEEauthorblockN{Rampim Thiago}
\IEEEauthorblockA{\textit{Universidade de Sao Paulo} \\
\textit{Escola Politécnica}\\
São Paulo, Brasil \\
email address or ORCID}
}

\maketitle

\begin{abstract}


\end{abstract}

\begin{IEEEkeywords}
Banco de dados, Aprendizado Estatístico, doenças cardíacas
\end{IEEEkeywords}

\section{Introdução}
De acordo com o Ministério da Saúde, o infarto agudo do miocárdio é a maior causa de morte no Brasil e no mundo \cite{citegovinfarto}. A partir dos anos 60, observa-se no Brasil e no mundo, um aumento das doenças crônicas não transmissíveis. Em 2021, as doenças cronicas cardiovasculares foram responsáveis pela morte de 20,8 milhões de pessoas \cite{di2023world}. Além das vidas perdidas, essas condicoes acarretam em comorbidades que impactam fisicamente e socialmente os pacientes, comprometendo sua qualidade de vida.

O objetivo desse estudo é analisar a relação entre os fatores de risco associados à presença de doenças cardíacas, como a frequência cardíaca máxima, idade e outros. Além disso, realizar uma análise de desempenho de classificadores de machine learning para realizar a identificação de doenças cardíacas. 

Será utilizado o conjunto de dados de doenças cardíacas, e realizada a avaliação de desempenho com trabalhos relacionados \cite{detrano1989international}.

\section{Trabalhos Relacionados}


\section{Base de dados}

Existem diversas bases de dados disponíveis com informações de doenças cardiovasculares. Para os propósitos apresentados neste trabalho, foi utilizada a base UCI Heart Diseases, disponível em \cite{heartdiseases}. 

O conjunto de dados  formada por 4 bases de dados, sendo elas: Cleveland, Hungarian, Switzerland e Long Beach. São fornecidos os dados brutos e refinados, contendo ainda os metadados. 

Cada uma das tabelas contém dados referentes a uma região. A quantidade de dados em cada uma das bases é descrita da Tabela \ref{todasbases}


\begin{table}
\centering
\caption{Total de registros por base de dados}
\begin{tabular}{l c}
\hline
\textbf{Base de Dados} & \textbf{Total de Registros} \\
\hline
Cleveland      & 303 \\
Hungarian      & 294 \\
Switzerland    & 123 \\
Long Beach VA  & 200 \\
\hline
\textbf{Total Geral} & \textbf{920} \\
\hline\label{todasbases}
\end{tabular}
\end{table}

Nesse conjunto de dados, para análises de dados e utilização em modelos de aprendizado de máquina, os autores sugerem que se utilize a base de dados de Cleveland, contendo o total de 303 registros.  

As outras bases contém muitos dados faltantes, o que prejudicaria a confirmação ou descarte das hipoóteses levantadas. 

Para a utilização adequada, seguindo os preceitos do ciclo de vida de dados, foram definidos o armazenamento e acesso conforme as seções a seguir. 

\subsection{Armazenamento e Segurança}
O armazenamento dos dados foi feito utilizando a solução AWS S3, que fornece um repositório de objetos. Através dessa ferramenta, define-se políticas de ciclo de vida e de privacidade dos dados. 



Não existem informações públicas ou sensíveis nos dados, portanto o acesso pode ser realizado por qualquer pessoa. Camadas de restrição de acesso não precisam ser aplicadas. 

\subsection{Descrição dos Dados}
Foi utilizada a base de dados da cidade de Cleveland, com um total de 303 registros. A base contém 14 atributos, sendo eles descritos na Tabela \ref{descricaovariaveisdominio}. 



    
Além disso, a base de dados foi disponibilizada na plataforma Zenodo, contendo o DOI \href{https://doi.org/10.5281/zenodo.17559614}{https://doi.org/10.5281/zenodo.17559614}.

\section{Questões Analíticas}
Defina questões analíticas e hipoóteses sobre os
Datasets: técnicas estatísticas aplicadas à seleção e
definição de dados a serem aplicados em experimentos
computacionais.

As primeiras questões a serem respondidas, serão relacionadas a presença ou ausência de doença cardíaca. A variável $num$ será utiliada para partição dos dados. 

A idade do paciente pode influenciar na presença de doença cardíaca. Intuitivamente, espera-se uma idade média maior em pacientes com rótulo positivo. Serão utilizados gráficos de boxplot para avaliação dessa hipoótese. 

A relação entre sexo biológico do paciente e a presença de doenças cardiovasculares também será avaliada. 

A frequência máxima atingida, dada pela variável $thalach$ e a relação com a variável $num$ também será avaliado. 


A relação da variável $chol$, que avalia o nível de colesterol presente e a presença ou ausência de doenças cardíacas, também será avaliada. 


Um dos sintomas mais comuns associados à doenças do coração, é a dor torácica, dada pela variável $cp$. A relação dessa variável com a variável $num$ também será observada. 


Além dessas questões analíticas, foram desenvolvidos modelos de aprendizado de máquina e comparado os resultados. Através da comparação dos resultados obtidos, com os trabalhos relacionados, será avaliado se houve melhora nos resultados gerais, utilizando métricas de Acurácia e precisão.  




\section{Métodos e Materiais}

Traduza as questões: em ações e procedimentos a serem
adotados em cada uma das etapas do ciclo de vida dos
dados: Planejamento, ..., Análise/Visualização/Publicação
\subsection{Planejamento e Documentação}

Conforme direcionado durante as aulas, foi utilizada a ferramenta DMPtool para documentar e acompanhar o desenvolvimento do projeto. 

Com a catalogação na ferramenta, é gerado um DOI vinculado ao projeto. O DOI do projeto gerado foi o \href{https://doi.org/10.48321/D12DFBEE7A}{https://doi.org/10.48321/D12DFBEE7A}.

\subsection{Análise dos dados}
A análise realizada será dividida na etapa de descrição dos dados, onde descreveremos os dados numéricos e categóricos. Serão apresentadas as métricas clássicas de cada uma das variáveis. 

Após a descrição, serão realizadas visualizações específicas sobre alguns conjuntos de dados buscando responder as questões analíticas. 

\subsubsection{Descrição}

Os atributos numéricos estão descritos e resumidos na Tabela \ref{resumenumeric}. 

Já os atribu
tos categóricos, estão descritos na Tabela \ref{resumecateg}


\subsubsection{Visualização}
Para a hipótese da influência da idade, na presença de doenças cardíacas, foi utilizada a análise de boxplot para os dados. A Figura \ref{fig:ageinfluence} ilustra essa relação. 

\begin{figure}[!h]
    \centering
    \includegraphics[width=0.5\textwidth]{imgs/age_boxplot.png}
    \caption{Distribuição da variável \textit{age} (idade)}
    \label{fig:ageinfluence}
\end{figure}
\pagebreak
A relação entre a frequência máxima atingida e a presença ou ausência de doenças cardíacas, pode ser visto no $boxplot$ gerado na Figura \ref{fig:freqmax}

\begin{figure}[!h]
    \centering
    \includegraphics[width=0.5\textwidth]{imgs/freqmax.png}
    \caption{Distribuição da variável \textit{trestbps} (frequência máxima)}
    \label{fig:freqmax}
\end{figure}


Complementar às análises de boxplot, foi realizada a geração da matriz de correlação entre as variáveis. A Figura \ref{fig:correlacao} demonstra a correlação entre as variáveis. Para essa análise, a variável alvo $num$ também está contida na matriz de correlação.
\begin{figure}[!h]
    \centering
    \includegraphics[width=0.5\textwidth]{imgs/correlacao.png}
    \caption{Matriz de correlação entre as variáveis.}
    \label{fig:correlacao}
\end{figure}


\section{Resultados Obtidos}
Comparar os resultados obtidos no modelo, com os de outros trabalhos. 

Comparar e interpretar os resultados das questões analiticas. 

Pela Figura \ref{fig:age}, nota-se uma idade média de 56,75 anos para a presença de doenças cardíacas e 52,64 anos para a ausência. Pode-se portanto, confirmar a primeira hipótese, de que a idade avançada contribui para doenças cardíacas.

\section{Conclusão}
Publicação: Os trabalhos devem ser disponibilizados na
comunidade - Big Data Analytics Research Group of Escola
Politécnica da Universidade de São Paulo - Zenodo (zenodo.org).

This document is a model and instructions for \LaTeX.
Please observe the conference page limits. 



\bibliographystyle{IEEEtran}
\bibliography{ref.bib}


\appendix

\begin{table}[!h]
\centering
\caption{Distribuição das Variáveis Categóricas com Percentuais}
\label{resumecateg}
\begin{tabular}{lccc}
\hline
\textbf{Variável} & \textbf{Categoria} & \textbf{Frequência} & \textbf{Frequência (\%)} \\
\hline
sex      & 1 & 201 & 67.7\% \\
         & 0 & 96  & 32.3\% \\
\hline
cp       & 4 & 142 & 47.8\% \\
         & 3 & 83  & 27.9\% \\
         & 2 & 49  & 16.5\% \\
         & 1 & 23  & 7.7\%  \\
\hline
fbs      & 0 & 254 & 85.5\% \\
         & 1 & 43  & 14.5\% \\
\hline
restecg  & 0 & 147 & 49.5\% \\
         & 2 & 146 & 49.2\% \\
         & 1 & 4   & 1.3\%  \\
\hline
exang    & 0 & 200 & 67.3\% \\
         & 1 & 97  & 32.7\% \\
\hline
slope    & 1 & 139 & 46.8\% \\
         & 2 & 137 & 46.1\% \\
         & 3 & 21  & 7.1\%  \\
\hline
ca       & 0 & 174 & 58.6\% \\
         & 1 & 65  & 21.9\% \\
         & 2 & 38  & 12.8\% \\
         & 3 & 20  & 6.7\%  \\
\hline
thal     & 3 & 164 & 55.2\% \\
         & 7 & 115 & 38.7\% \\
         & 6 & 18  & 6.1\%  \\
\hline
\end{tabular} 
\end{table}




\begin{sidewaystable}
\centering
\caption{Resumo Estatístico das Variáveis Numéricas}
\begin{tabular}{lcccccccc}
\hline
\textbf{Variável} 
& \textbf{Contagem} 
& \textbf{Média} 
& \textbf{Desvio Padrão} 
& \textbf{Mínimo} 
& \textbf{25\%} 
& \textbf{Mediana} 
& \textbf{75\%} 
& \textbf{Máximo} \\ 
\hline
age      & 297 & 54.54 & 9.05 & 29 & 48 & 56 & 61 & 77 \\
trestbps & 297 & 131.69 & 17.76 & 94 & 120 & 130 & 140 & 200 \\
chol     & 297 & 247.35 & 52.00 & 126 & 211 & 243 & 276 & 564 \\
thalach  & 297 & 149.60 & 22.94 & 71 & 133 & 153 & 166 & 202 \\
oldpeak  & 297 & 1.06 & 1.17 & 0.0 & 0.0 & 0.8 & 1.6 & 6.2 \\
\hline
\end{tabular} \label{resumenumeric}
\end{sidewaystable}


\begin{sidewaystable}
\centering
\caption{Descrição dos Atributos do Conjunto de Dados com Domínios}
\label{descricaovariaveisdominio}
\begin{tabular}{p{2cm} p{3cm} p{9cm} p{4cm}}
\hline
\textbf{Variável} & \textbf{Tipo} & \textbf{Descrição} & \textbf{Domínio} \\
\hline

age      & Numérica contínua & Idade do paciente em anos. & Não se aplica \\

sex      & Categórica binária & Sexo biológico do paciente. & 1 = Masculino; 0 = Feminino \\

cp       & Categórica ordinal & Tipo de dor torácica. & 
1 = Angina típica; 2 = Angina atípica; 3 = Dor não anginosa; 4 = Assintomático \\

trestbps & Numérica contínua & Pressão arterial em repouso (mmHg). & Não se aplica \\

chol     & Numérica contínua & Nível sérico de colesterol (mg/dL). & Não se aplica \\

fbs      & Categórica binária & Glicemia de jejum > 120 mg/dL. & 1 = Sim; 0 = Não \\

restecg  & Categórica ordinal & Resultado do eletrocardiograma de repouso. & 
0 = Normal; 1 = Alteração ST-T; 2 = Hipertrofia ventricular esquerda \\

thalach  & Numérica contínua & Frequência cardíaca máxima atingida. & Não se aplica \\

exang    & Categórica binária & Angina induzida por exercício. & 1 = Sim; 0 = Não \\

oldpeak  & Numérica contínua & Depressão do segmento ST induzida por exercício. & Não se aplica \\

slope    & Categórica ordinal & Inclinação do segmento ST no pico do exercício. & 
1 = Ascendente; 2 = Plana; 3 = Descendente \\

ca       & Numérica discreta & Número de vasos principais visualizados por fluoroscopia. & Inteiros: 0–3 \\

thal     & Categórica nominal & Resultado do teste de tálio. & 
3 = Normal; 6 = Defeito fixo; 7 = Defeito reversível \\

num      & Categórica binária (alvo) & Diagnóstico de doença cardíaca. & 
0 = Sem doença significativa; 1 = Doença Presente \\

\hline
\end{tabular}
\end{sidewaystable}


\begin{table}[ht]
\centering
\caption{Resumo classificadores para kfold = 10}
\label{tab:resumo_classificadores}
\begin{tabular}{lccccccc}
\hline
Modelo & Min & Max & Média & Q1 & Q2 & Q3 \\
\hline
Logistic Regression & 0.667 & 1.000 & 0.846 & 0.800 & 0.851 & 0.893 \\
Decision Tree       & 0.542 & 0.870 & 0.728 & 0.688 & 0.729 & 0.776 \\
SVM                 & 0.583 & 0.708 & 0.654 & 0.625 & 0.660 & 0.694 \\
KNN                 & 0.417 & 0.875 & 0.642 & 0.583 & 0.661 & 0.695 \\
Naive Bayes         & 0.500 & 0.957 & 0.747 & 0.729 & 0.769 & 0.838 \\
Random Forest       & 0.583 & 0.870 & 0.763 & 0.729 & 0.787 & 0.828 \\
Gradient Boosting   & 0.667 & 0.913 & 0.798 & 0.758 & 0.809 & 0.865 \\
\hline
\end{tabular}
\end{table}


\begin{table}[ht]
\centering
\caption{Resumo das métricas por modelo de outros trabalhos}
\label{tab:resumo_metrica}
\begin{tabular}{lccc}
\hline
\textbf{Modelo} & \textbf{Mínimo} & \textbf{Médio} & \textbf{Máximo} \\
\hline
Gradient Boosting & 72.38 & 81.57 & 89.74 \\
SVM               & 55.26 & 65.78 & 76.31 \\
Random Forest     & 71.05 & 80.26 & 88.15 \\
Logistic Regression & 72.36 & 81.75 & 89.47 \\
\hline
\end{tabular}
\end{table}


\end{document}
